<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <title>파이썬(python)</title>
    <meta name="author" content="Greg Wilson" />
    <!-- <meta name="narrator" content="Katy Huff" />
    <meta name="audio" content="img/00-voiceover.ogg" />
    <meta name="timings" content="img/00-timings.json" /> -->

    <script src="../js/deckjs-custom.js"></script>
    <script>includedeck(["../css/software-carpentry.css"],{});</script>
    <style type="text/css">
      .slide.title-slide h1 {padding-bottom: 0;} /* title is long... */
      a {text-decoration: underline;} /* make links clearer */
      pre {font-size: 75%;} /* make code blocks smaller */
      p.lesson {text-align: center; font-size: 120%; font-style: italic;}    
    </style>
  </head>
  <body>
  <div class="deck-container">

    <section class="slide title-slide" data-container-class="no-status">
        <h2 class="var-title"></h2>
        <h3> XWMOOC </h2>
        <img class="logo" src="../img/software-carpentry-banner.png" alt="Software Carpentry Logo" />        
	<aside class="notes">
	</aside>
      </section>

    <section class="slide">
	<table width="100%">
	  <h2> 모듈러 프로그래밍 </h2>
		<table width="100%" style="table-layout: fixed">
		<tr>
		    <td>
                <h4 style="font-size:45%">따블 함수</h4>
                <blockquote style="font-size:50%"> 
                    In [1]: def double(number):  <br>
                       ...:     return number *2 <br>
                       ...:                      <br>
                    In [2]: double(10)           <br>
                <font color="blue">Out[2]: 20 </font>				     
                </blockquote>
			</td>
    	    <td>
                <h4 style="font-size:45%">따따블 함수</h4>
                <blockquote style="font-size:50%"> 
                    In [3]: def quadruple(number):  <br>
                       ...:     return doulbe(number) + double(number) <br>
                       ...:                      <br>
                    In [4]: quadruple(10)           <br>
                <font color="blue">Out[4]: 40 </font>                    
                </blockquote>
			</td>
		</tr>
		</table>
	<aside class="notes">
	</aside>
    </section>

    <section class="slide" style="font-size:80%">
    <h2> 모듈러 프로그래밍 </h2>
                <iframe width="800" height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=def+double(number)%3A%0A++++return+number+*+2%0A++++%0Adouble(10)%0A%0Adef+quadruple(number)%3A%0A++++return+double(number)+%2B+double(number)%0A++++%0Aquadruple(10)&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&rawInputLstJSON=%5B%5D&curInstr=16&codeDivWidth=350&codeDivHeight=400"> 
    <aside class="notes">
    </aside>
    </section>


    <section class="slide" style="font-size:80%">
      <h2> 시스템 프로그래밍 </h2>
        <iframe width="800" height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=def+double(number)%3A%0A++++return+number+*+2%0A++++%0Adouble(10)%0A%0Adef+quadruple(number)%3A%0A++++return+double(number)+%2B+double(number)%0A++++%0Aquadruple(10)&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&drawParentPointers=false&textReferences=false&showOnlyOutputs=false&py=2&rawInputLstJSON=%5B%5D&curInstr=0&codeDivWidth=350&codeDivHeight=400"> 
        </iframe>
    <aside class="notes">
    </aside>
    </section>

  <section class="slide">
  <table width="100%">
    <h2> 리팩터링(refactoring) </h2>
    <table width="100%" style="table-layout: fixed">
    <tr>
        <td>
                <h4 style="font-size:45%">기능이 완성된 프로그램</h4>
                <blockquote style="font-size:50%"> 
                    #Add up the number of creatures in a data file.     <br>
                    import sys                                          <br>
                    for filename in sys.argv[1:]                        <br>    
                    reader = open(filename, 'r')                        <br>    
                    total = 0                                           <br>
                    for line in reader:                                 <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if line.startswith('#') or line.startswith('Date'):     <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass # Don't do anything        <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;else:                                                   <br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total = total + int(line.strip().split(',')[2])<br>
                    reader.close()                                      <br>
                    print ('total is', total)
                </blockquote>
      </td>
          <td>
                <h4 style="font-size:45%">1차 리팩터링된 프로그램</h4>
                <blockquote style="font-size:50%"> 
                    #Add up the number of creatures in a data file. <br>
                    import sys                                      <br> 
                                                                    <br> 
                    # Extract the count portion of a data record and return as a number.<br> 
                    def get_count(line):                  <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;temp = line.strip()               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;fields = temp.split(',')          <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;count = int(fields[2])            <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;return count                      <br> 
                                                          <br> 
                    for filename in sys.argv[1:]:         <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;reader = open(filename, 'r')      <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;total = 0                         <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;for line in reader:               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if line.startswith('#') or line.startswith('Date'): <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass # Don't do anything                        <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:                                               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total = total + <strong>get_count(line)</strong>  <br> 
                    reader.close()                                              <br> 
                    print ('total is', total)                                   <br> 
                </blockquote>
      </td>
    </tr>
    </table>
  <aside class="notes">
  </aside>
    </section>

  <section class="slide">
  <table width="100%">
    <h2> 리팩터링(refactoring) </h2>
    <table width="100%" style="table-layout: fixed">
    <tr>
        <td>
                <h4 style="font-size:45%">1차 리팩터링된 프로그램</h4>
                <blockquote style="font-size:50%"> 
                    #Add up the number of creatures in a data file. <br>
                    import sys                                      <br> 
                                                                    <br> 
                    # Extract the count portion of a data record and return as a number.<br> 
                    def get_count(line):                  <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;temp = line.strip()               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;fields = temp.split(',')          <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;count = int(fields[2])            <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;return count                      <br> 
                                                          <br> 
                    for filename in sys.argv[1:]:         <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;reader = open(filename, 'r')      <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;total = 0                         <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;for line in reader:               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if line.startswith('#') or line.startswith('Date'): <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass # Don't do anything                        <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:                                               <br> 
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total = total + <strong>get_count(line)</strong>  <br> 
                    reader.close()                                              <br> 
                    print ('total is', total)                                   <br> 
                </blockquote>
      </td>
      <td>
                <h4 style="font-size:45%">2차 리팩터링된 프로그램</h4>
                <blockquote style="font-size:50%"> 
                  #Add up the number of creatures in a data file.       <br>
                  import sys                                            <br>
                                                                        <br>
                  # Extract the count portion of a data record and return as a number. <br>
                  def get_count(line):           <br>
                      &nbsp;&nbsp;&nbsp;&nbsp;temp = line.strip()        <br>
                      &nbsp;&nbsp;&nbsp;&nbsp;fields = temp.split(',')   <br>
                      &nbsp;&nbsp;&nbsp;&nbsp;count = int(fields[2])     <br>
                      &nbsp;&nbsp;&nbsp;&nbsp;return count               <br>
                  # Count the total number of creatures in a data file.  <br>
                  def get_total(source):                                 <br>   
                  &nbsp;&nbsp;&nbsp;&nbsp;total = 0                      <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;for line in reader: <br> 
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if line.startswith('#') or line.startswith('Date'): <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            pass # Don't do anything                        <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        else:                                               <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            total = total + get_count(line)                 <br>    
                  &nbsp;&nbsp;&nbsp;&nbsp;    return total                                            <br>
                  # Show total number of creatures in each file given on the command line <br>
                  all_filenames = sys.argv[1:]      <br>
                  for filename in all_filenames:    <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    reader = open(filename, 'r')  <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    total = <strong> get_total(reader) </strong>     <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    reader.close()                <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    print ('total is', total)     <br>
                </blockquote>

      </td>
    </tr>
    </table>
  <aside class="notes">
  </aside>
    </section>

  <section class="slide">
  <table width="100%">
    <h2> 리팩터링(refactoring) </h2>
    <table width="100%" style="table-layout: fixed">
    <tr>
        <td>
                <h4 style="font-size:45%">3차 리팩터링된 프로그램</h4>
                <blockquote style="font-size:45%"> 
                  #Add up the number of creatures in a data file.       <br>
                  import sys                                            <br>
                                                                        <br>
                  # Extract the count portion of a data record and return as a number. <br>
                  def get_count(line):           <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;temp = line.strip()        <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;fields = temp.split(',')   <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;count = int(fields[2])     <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;return count               <br>
                  def should_skip_line(line):                                <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;return line.startswith('#') or line.startswith('Date') <br>

                  # Count the total number of creatures in a data file.  <br>
                  def get_total(source):                                 <br>   
                  &nbsp;&nbsp;&nbsp;&nbsp;total = 0                      <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;for line in reader: <br> 
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if should_skip_line(line): <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            pass                        <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        else:                                               <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;            total = total + get_count(line)                 <br>    
                  &nbsp;&nbsp;&nbsp;&nbsp;    return total                                            <br>
                  # Show total number of creatures in each file given on the command line <br>
                  all_filenames = sys.argv[1:]      <br>
                  for filename in all_filenames:    <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    reader = open(filename, 'r')  <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    total = <strong> get_total(reader) </strong>     <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    reader.close()                <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;    print (filename + ' : ', total)     <br>
                </blockquote>
      </td>

      <td>
          <code style="font-size:45%"> Single Responsibility Principle </code>
          <h4 style="font-size:45%"> 쉘 프로그래밍 출력</h4>
          <blockquote style="font-size:45%"> 
            $ python count-fish.py steve-2012.txt test.txt temp.txt <br>
            steve-2012.txt :  30                                    <br>
            test.txt :  4                                           <br>
            temp.txt :  30                                          <br>
          </blockquote>
          <h4 style="font-size:45%"> 파이프 출력</h4>
          <blockquote style="font-size:45%"> 
            $ python count-fish.py steve-2012.txt test.txt temp.txt | cut -d ' ' -f4 <br>
            30                                                                       <br>
            4                                                                        <br> 
            30                                                                       <br>
          </blockquote>
          <h4 style="font-size:45%"> 파이프 입력</h4>
          <blockquote style="font-size:45%"> 
            $ cat steve-2012.txt test.txt temp.txt | python count-fish.py  <br>
          </blockquote>

      </td>
    </tr>
    </table>
  <aside class="notes">
  </aside>
    </section>

  <section class="slide">
  <table width="100%">
    <h2> 자동화 완성 </h2>
    <table width="100%" style="table-layout: fixed">
    <tr>
        <td>
                <h4 style="font-size:45%">표준입력(stdin)</h4>
                <code style="font-size:60%">pipeline.py<code>
                <blockquote style="font-size:45%"> 
                import sys                <br>

                for line in sys.stdin:    <br>
                &nbsp;&nbsp;&nbsp;&nbsp;print ('I read:', line)  <br>
                </blockquote>
                <blockquote style="font-size:45%"> 
                  $ python pipeline.py  <br>
                  hello                 <br>
                  I read: hello         <br> 
                </blockquote>
                <blockquote style="font-size:45%"> 
                  $ cat test.txt | python pipeline.py  <br>
                  I read: 2012-08-29,marlin,3          <br> 
                                                       <br>
                  I read: 2012-08-29,shark,1           <br>
                </blockquote>
                <blockquote style="font-size:45%"> 
                  $ python pipeline.py < test.txt      <br>
                  I read: 2012-08-29,marlin,3          <br> 
                                                       <br>
                  I read: 2012-08-29,shark,1           <br>
                </blockquote>

      </td>

      <td>
                <h4 style="font-size:45%">pipeline.py version 2</h4>
                <blockquote style="font-size:45%"> 
                  import sys                     <br>
                                                 <br>
                  filenames = sys.argv[1:]       <br>
                                                 <br>
                  if len(sys.argv[1:]) ==0:      <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;  for line in sys.stdin:       <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    print (len(line))          <br>
                  else:                          <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;  for name in filenames:       <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    reader = open(name, 'r')   <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    for line in reader:        <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      print (len(line))        <br> 
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    reader.close()             <br>
                </blockquote>
                <blockquote style="font-size:45%"> 
                  $ python pipeline.py <test.txt  <br>
                  20                              <br>
                  18                              <br>
                                                     <br>
                  $ cat test.txt | python pipeline.py  <br>
                  20                                   <br>
                  18                                   <br>
                </blockquote>
      </td>
    </tr>
    </table>
  <aside class="notes">
  </aside>
    </section>

  <section class="slide">
  <table width="100%">
    <h2> 자동화 완성 </h2>
    <table width="100%">
    <tr width="30%">
        <td>
                <h4 style="font-size:45%">pipeline.py v2 리팩터링</h4>
                <blockquote style="font-size:45%"> 
                  import sys                      <br>
                                                  <br>
                  def process(file):              <br>  
                  &nbsp;&nbsp;&nbsp;&nbsp;  for line in file:             <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    print (len(line))           <br>
                                                  <br>
                  filenames = sys.argv[1:]        <br>
                                                  <br>    
                  if len(sys.argv[1:]) ==0:       <br>  
                  &nbsp;&nbsp;&nbsp;&nbsp;  process(sys.stdin)            <br>
                  else:                           <br>  
                  &nbsp;&nbsp;&nbsp;&nbsp;  for name in filenames:        <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    reader = open(name, 'r')    <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    process(reader)             <br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    reader.close()              <br>
                </blockquote>
      </td>

      <td>
          <h4 style="font-size:45%">최종 버젼</h4>
          <blockquote style="font-size:40%"> 
          #Add up the number of creatures in a data file.                  <br>
          import sysv  <br>
 <br>
          # Extract the count portion of a data record and return as a number. <br>
          def get_count(line): <br>
&nbsp;&nbsp;&nbsp;&nbsp;              temp = line.strip() <br>
&nbsp;&nbsp;&nbsp;&nbsp;              fields = temp.split(',') <br>
&nbsp;&nbsp;&nbsp;&nbsp;              count = int(fields[2]) <br>
&nbsp;&nbsp;&nbsp;&nbsp;              return count <br>
 <br>
          def should_skip_line(line): <br>
&nbsp;&nbsp;&nbsp;&nbsp;              return line.startswith('#') or line.startswith('Date') <br>
 <br>
          # Count the total number of creatures in a data file. <br>
          def get_total(source): <br>
&nbsp;&nbsp;&nbsp;&nbsp;              total = 0 <br>
&nbsp;&nbsp;&nbsp;&nbsp;              for line in source:  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  if should_skip_line(line): <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      pass <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  else: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      total = total + get_count(line) <br>
&nbsp;&nbsp;&nbsp;&nbsp;              return total <br>
 <br>
          # Show total number of creatures in each file given on the command line <br>
          all_filenames = sys.argv[1:] <br>
          if len(all_filenames) == 0: <br>
&nbsp;&nbsp;&nbsp;&nbsp;              total = get_total(sys.stdin) <br>
&nbsp;&nbsp;&nbsp;&nbsp;              print('--', total) <br>
          else:  <br>
&nbsp;&nbsp;&nbsp;&nbsp;              for filename in all_filenames: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  reader = open(filename, 'r') <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  total = get_total(reader) <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  reader.close() <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                  print (filename + ' : ', total) <br>
          </blockquote> 
        </td> 
    </tr>
    </table>
  <aside class="notes">
  </aside>
    </section>


  </div>
  </body>
</html>




