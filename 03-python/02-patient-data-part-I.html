<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <title>파이썬(python)</title>
    <meta name="author" content="Greg Wilson" />
    <!-- <meta name="narrator" content="Katy Huff" />
    <meta name="audio" content="img/00-voiceover.ogg" />
    <meta name="timings" content="img/00-timings.json" /> -->

    <script src="../js/deckjs-custom.js"></script>
    <script>includedeck(["../css/software-carpentry.css"],{});</script>
    <style type="text/css">
      .slide.title-slide h1 {padding-bottom: 0;} /* title is long... */
      a {text-decoration: underline;} /* make links clearer */
      pre {font-size: 75%;} /* make code blocks smaller */
      p.lesson {text-align: center; font-size: 120%; font-style: italic;}    
    </style>
  </head>
  <body>
  <div class="deck-container">

    <section class="slide title-slide" data-container-class="no-status">
        <h2 class="var-title"></h2>
        <h3> 환자 데이터 (Part I) </h2>
        <img class="logo" src="../img/software-carpentry-banner.png" alt="Software Carpentry Logo" />        
	<aside class="notes">
	</aside>
      </section>

    <section class="slide">
	<table width="100%">
	  <h2> ipython 노트북 </h2>
		<table width="100%" style="table-layout: fixed">
		<tr>
		    <td>
          <img src="./img/anaconda-setup.png" alt="Anaconda Setup" /> 
  			</td>
   	    <td>
          <img src="./img/ipython-notebook.png" alt="ipython Notebook" /> 
  			</td>
		</tr>
		</table>
	<aside class="notes">
	</aside>
    </section>

    <section class="slide" style="font-size:80%">
      <h2> pythontutor.com </h2>
       <iframe width="420" height="315" src="https://www.youtube.com/embed/y3sVN7uaxDM" frameborder="0" allowfullscreen></iframe> 

      <aside class="notes">
      </aside>
    </section>



  <section class="slide" style="font-size:80%">
    <h2> 파이썬 실습(1): 도전과제(1) </h2>
      <p>도표를 그려서 다음 프로그램의 각 문장이 실행된 후에 무슨 변수가 무슨 값을 참조하는지 보이세요.</p>
      <pre>
        mass = 47.5
        age = 122
        mass = mass * 2.0
        age = age - 20</pre>

      <p>다음 프로그램이 출력하는 것은 무엇인가요?</p>
      <pre>
        first, second = 'Grace', 'Hopper'
        third, fourth = second, first
        print third, fourth</pre>
      <aside class="notes">
      </aside>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(1): 도전과제(2) </h2>
      <pre class="in">
      element = &#39;oxygen&#39;
      print &#39;first three characters:&#39;, element[0:3]
      print &#39;last three characters:&#39;, element[3:6]</pre>
      <pre class="out">first three characters: oxy
      last three characters: gen</pre>
      <div class="challenges">
        <ol>
          <li>
            <p>
              <code>element[:4]</code>의 값은 무엇인가?
              <code>element[4:]</code>의 값은 무엇인가?
              혹은 <code>element[:]</code>의 값은 무엇인가?</p>
          </li>
          <li>
            <p>
              <code>element[-1]</code>의 값은 무엇인가?
              <code>element[-2]</code>의 값은 무엇인가?
              상기 해답이 주어졌을 때, 
              <code>element[1:-1]</code>의 값이 무엇인지 설명하시오.</p>
          </li>
          <li>
            <p>
              <code>element[3:3]</code>의 표현식은 <a href="../../gloss.html#empty-string">빈 문자열(empty string)</a>을 출력한다.
              즉, 어떠한 문자도 포함하지 않은 문자열이다. 
              만약 <code>data</code>가 환자 데이터의 배열이라면, 
              <code>data[3:3, 4:4]</code>은 무슨 값을 출력할까? 
              <code>data[3:3, :]</code>은 무슨 값을 출력할까?
            </p>
          </li>
        </ol>
      </div>
      </pre>
      <aside class="notes">
      </aside>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(1): 도전과제(3) </h2>
      <ol>
        <li>
          <p>왜 모든 플롯이 그래프 상단이 짤리나요? 왜 날짜별 최소 염증값의 플롯에 수직라인이 완벽하게 수직이 아니죠?</p>
        </li>
        <li>
          <p>모든 환자에 대해서 각 일자별로 염증 데이터의 표준편차를 보이는 그래프를 생성하세요.</p>
        </li>
      </ol>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(2): 도전과제(1) </h2>
      <ol>
        <li>
          <p>
            두 개의 문자열을 &quot;더하는 것&quot;은 사슬처럼 잇게 한다(concatenate). 즉, 
            <code>'a' + 'b'</code>는 <code>'ab'</code>이 된다.
            두 개의 매개변수 <code>original</code>과 <code>wrapper</code>를 받아 <code>original</code>의 처음과 끝에 <code>wrapper</code>를 씌워 새로운 문자열을 반환하는 함수 <code>fence</code>를 작성하세요.
          </p>

          <pre>
            print fence('name', '*')
            *name*</pre>
        </li>
        <li>
          <p>
            만약 변수 <code>s</code>가 문자열이면, <code>s[0]</code>는 첫번째 문자이고, <code>s[-1]</code>은 마지막 문자가 된다.
    입력문자열의 처음과 끝 문자로만 구성된 문자열을 반환하는 함수 <code>outer</code>를 작성하세요.
          </p>

          <pre>print outer('helium')
               hm</pre>
        </li>
      </ol>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(2): 도전과제(1) 해답 </h2>
      <ol>
        <li>
          <p>
            두 개의 문자열을 &quot;더하는 것&quot;은 사슬처럼 잇게 한다(concatenate). 즉, 
            <code>'a' + 'b'</code>는 <code>'ab'</code>이 된다.
            두 개의 매개변수 <code>original</code>과 <code>wrapper</code>를 받아 <code>original</code>의 처음과 끝에 <code>wrapper</code>를 씌워 새로운 문자열을 반환하는 함수 <code>fence</code>를 작성하세요.
          </p>
          <pre>
            print fence('name', '*')
            *name*
            def fence(original, wrapper):
                return wrapper + original + wrapper
            print fence('name','*')
          </pre>
        </li>
        <li>
          <p>
            만약 변수 <code>s</code>가 문자열이면, <code>s[0]</code>는 첫번째 문자이고, <code>s[-1]</code>은 마지막 문자가 된다.
    입력문자열의 처음과 끝 문자로만 구성된 문자열을 반환하는 함수 <code>outer</code>를 작성하세요.
          </p>

          <pre><code class="language-python">
            print outer('helium')
                hm
            def outer(input):
               return input[0]+input[-1]
            print outer('helium')
                </code>
          </pre>
        </li>
      </ol>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(2): 도전과제(2) </h2>
      <p>이전에 <code>fence</code>와 <code>outer</code> 함수를 작성했다. 다음을 실행할 때 콜 스택(call stack)이 어떻게 변하는지 다이어그램을 그려보세요.
      </p>
      <pre>print outer(fence('carbon', '+'))</pre>
      <iframe width="1024" height="768" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=def+fence(original,+wrapper)%3A%0A++++return+wrapper+%2B+original+%2B+wrapper%0Aprint+fence('name','*')%0A++++++++++++%0Adef+outer(input)%3A%0A++++return+input%5B0%5D%2Binput%5B-1%5D%0Aprint+outer('helium')%0A%0Aprint+outer(fence('carbon',+'%2B'))&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=2&rawInputLstJSON=%5B%5D&curInstr=17&codeDivWidth=350&codeDivHeight=400"> </iframe>
    </section>

  <section class="slide" style="font-size:70%">
    <h2> 파이썬 실습(2): 도전과제(3) </h2>
      <ol>
        <li>
          <p><code>analyze</code> 함수를 작성해서 매개변수로 파일 이름을 받아서 <a href="01-numpy.ipynb">앞선 학습</a> 
          결과(시간에 따른 염증의 평균값, 최소값, 최대값)를 그래프로 화면에 출력하도록 하세요.<code>analyze("inflammation-01.csv</code>&quot;) 결과는 
          이미 보여진 그래프를 생성해야 하지만, <code>analyze("inflammation-02.csv")</code> 결과는 두번째 데이터셋에 상응하는 그래프를 생성해야 한다. 
          <code>docstring</code>으로 함수를 문서화하도록 확인하세요.    </p>
        </li>
        <li>
          <p><code>rescale</code>함수를 작성해서 입력값으로 벡터를 받고, 0.0에서 1.0사이의 범위로 조정되게 해당 벡터를 반환하게 하세요. 
          만약 $L$과 $H$이 원 벡터이 하한과 상한이라면, $v$의 치환값은 $(v-L) / (H-L)$이 되어야 한다. 
          <code>docstring</code>으로 함수를 문서화하도록 확인하세요.</p>
        </li>
        <li>
          <p><code>help(numpy.arange)</code>과 <code>help(numpy.linspace)</code> 도움말 명령어를 실행해서 어떻게 함수를 사용하여 균등한 간격을 가진 값을 생성하는지 살펴보세요.
          그리고 나서 이들 값을 사용하여 rescale 함수가 정상적으로 동작하는지 시험하세요.</p>
        </li>
      </ol>
    </section>

    <section class="slide" style="font-size:70%">
      <h2> 파이썬 실습(2): 도전과제(3) 해답</h2>
      <table  style="font-size:50%">
        <tr>
          <td>
            도전과제 1 (analyze함수)
          </td>
          <td>
            도전과제 2 (rescale함수)
          </td>
        </tr>
        <tr>
          <td>
            <pre>
  import numpy as np
  from matplotlib import pyplot as plt
  %matplotlib inline

  def analyze(fname):
      '''analyze(fname)함수는 fname 파일을 인자로 받아 평균, 최소, 최대 그래프를 그린다
         analyze('inflammation-01-csv') --> 그래프 세개...'''
      iname = 'C:\_software-carpentry\python-novice-inflammation\data' + '\\' + fname
      data = numpy.loadtxt(fname=iname, delimiter=',')

      plt.figure(figsize=(10.0, 3.0))

      plt.subplot(1, 3, 1)
      plt.ylabel('average')
      plt.plot(data.mean(0))

      plt.subplot(1, 3, 2)
      plt.ylabel('max')
      plt.plot(data.max(0))

      plt.subplot(1, 3, 3)
      plt.ylabel('min')
      plt.plot(data.min(0))

      plt.tight_layout()
      plt.show()

  analyze('inflammation-01.csv')
  help(analyze)</pre>
          </td>
          <td>
            <pre>
  def rescale(tinput):
  '''rescale(input_filename) 입력 데이터로 정렬된 리스트를 받아 스케일을 조정하여 표준화한다.
     사용법 rescale([3,1,2]) --> [0.0,0.5,1.0]'''
  Max = tinput[0]
  Min = tinput[-1]
  print Max, Min
  for idx in range(len(tinput)):
      tinput[idx] = (tinput[idx]-Min)/(Max-Min*1.0)
      print tinput[idx]
  return tinput

  print rescale(tinput)</pre>
          </td>
        </tr>
      </table>
    </section>

    <section class="slide" style="font-size:60%">
      <h2> 파이썬 실습(3): 도전과제(1) 해답</h2>
          <ol>
            <li>
              <p><code>range</code>를 사용하여 ,$N$개 숫자를 출력하는 함수를 작성하세요.</p>
        <pre>
        def print_N(ivalue):
          for idx in range(0,ivalue):
            print idx+1
        print_N(3)</pre>
            </li>
            <li>
              <p>누승(Exponentiation)은 파이썬의 내장함수다.</p>

              <pre>
              def expo(a, b):
                result = 1
                for idx in range(0,b):
                    result = result * a
                    print result
              expo(3,5)</pre>
            </li>
            <li>문자열을 입력으로 받는 <code>rev</code> 함수를 작성해서 역순으로된 문자를 가지는 새로운 문자열을 생성하게 하세요.</p>
              <pre>
              def rev(ivalue):
                result = ''
                length = len(ivalue)
                for idx in range(length):
                    result = result + ivalue[length-idx-1]
                return result
              result = rev('Newton')
              print result</pre>
        </section>

    <section class="slide" style="font-size:60%">
      <h2> 파이썬 실습(3): 도전과제(2)</h2>
       <ol>
          <li><code>total</code>이라는 함수를 작성해서 리스트의 모든 값의 합을 계산하도록 하세요. (파이썬이 <code>sum</code> 이라는 내장함수가 있지만 이번 도전과제로 사용하지 마세요.)</li>
        </ol>
    </section>

    <section class="slide" style="font-size:60%">
      <h2> 파이썬 실습(3): 도전과제(2) 해답</h2>
       <ol>
          <li><code>total</code>이라는 함수를 작성해서 리스트의 모든 값의 합을 계산하도록 하세요. (파이썬이 <code>sum</code> 이라는 내장함수가 있지만 이번 도전과제로 사용하지 마세요.)</li>
        </ol>
        <pre>
          def total(ivalue):
            tot = 0
            for number in ivalue:
                tot = tot + number
            return tot
          print total([1,3,5])</pre>
    </section>

    <section class="slide" style="font-size:60%">
      <h2> 파이썬 실습(3): 도전과제(3)</h2>
        <ol>
          <li>파일 이름 패턴을 인자로만 받는 <code>analyze_all</code> 함수를 작성해서 파일 이름과 패턴이 매칭되는 파일에 대해서 <code>analyze</code>를 실행하세요.</li>
        </ol>
    </section>

    <section class="slide" style="font-size:60%">
      <h2> 파이썬 실습(3): 도전과제(3) 해답</h2>
        <ol>
          <li>파일 이름 패턴을 인자로만 받는 <code>analyze_all</code> 함수를 작성해서 파일 이름과 패턴이 매칭되는 파일에 대해서 <code>analyze</code>를 실행하세요.</li>
        </ol>
        <pre>
          filenames = glob.glob('inf*.csv')
          print len(filenames)
          for f in filenames:
              print f
              analyze(f)
        </pre>
    </section>


  </body>
</html>




