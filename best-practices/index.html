<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <title>과학 컴퓨팅의 업무처리 모범 규준(Best Practice)</title>
    <meta name="author" content="Thomas Arildsen" />
    <meta name="author" content="Greg Wilson" />
    <!-- meta name="audio" content="voiceover.ogg" -->
    <!-- meta name="timings" content="timings.json" -->

    <script src="../js/deckjs-custom.js"></script>
    <script>includedeck(["../css/software-carpentry.css"],{});</script>
    <style>
      .slide.title-slide h1 {padding-bottom: 0;} /* title is long... */
      a {text-decoration: underline;} /* make links clearer */
      pre {font-size: 75%;} /* make code blocks smaller */
      p.rule {text-align: center; font-style: italic; } /* make lessons larger */
      p.small {font-size: 80%;}
      h3.rule {text-align: center; color: #2b3990;}
    </style>
  </head>
  <body>
    <div class="deck-container">

      <section class="slide title-slide" data-container-class="no-status">
        <h1 style="font-size: 210%;">과학 컴퓨팅의 업무처리 <br/>모범 규준(Best Practice)</h1>
        <p>2015년 1월</p>
        <img class="logo" src="../img/software-carpentry-banner.png" alt="Software Carpentry Logo" />
      </section>

      <section class="slide">
	<h2>배경</h2>
	<ul>
	  <li>소프트웨어는 21세기 연구장비.</li>
	  <li>과학자가 소프트웨어 작성에 많은 시간을 투여.</li>
	  <li>하지만, 90%이상 과학자가 소프트웨어를 독학.</li>
	  <li>"좋은" 소프트웨어 의미를 모름.</li>
	  <li>그래서, 8개 범주 24개 모범규준(Practice)을 기술.</li>
	</ul>
      </section>

      <section class="slide">
	<h4 align="center">좋은 프로그래머가 평균보다<br/>10배 더 생산성이 높다.</h4>
      </section>

      <section class="slide">
	<h4 align="center">
		좋은 <strike>프로그래머</strike>가 평균보다<br/>10배 더 생산성이 높다.</h4>
      </section>

      <section class="slide">
	<h4 align="center">
		좋은 <em><strong>모범규준(Practice)</strong></em>가 평균보다<br/>10배 더 생산성이 높다.</h4>
      </section>

      <section class="slide">
	<h2>규칙 1</h2>
	<h3 class="rule">사람을 위한 프로그램을 작성하라.
		        <br/>컴퓨터를 위해서가 아니다.</h3>
	<ul>
	  <li>이해하기 어려운 코드는 무슨 기능을 수행하는지 분간하기가 어렵다.</li>
	  <li>다른 동료 과학자가 재사용하기도 어렵다...</li>
	  <li>...미래의 본인 자신도 포함된다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 1a</h2>
	<p class="rule">한번에 프로그램을 읽는 사람 머리속에 소수의 사실만 기억하도록 프로그램이 작성되어야 한다.</p>
	<ul>
	  <li>사람 단기 기억은 7&plusmn;2 가지만 기억한다.</li>
	  <li>그래서, 프로그램을 매개변수가 몇개 있는 짧고, 읽기 쉬운 함수로 쪼개야 한다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 1b</h2>
	<p class="rule">이름은 일관되고, 독특하고, 의미있게 명명한다.</p>
	<ul>
	  <li><code>p</code>는 <code>pressure</code>(압력)만큼 독자의 단기 기억에 도움이 되지 않는 이름이다.</li>
	  <li><code>temp</code>를 사용하지 말라. "temporary"(임시)와 "temperature"(온도)를 의미할 수 있다.</li>
	  <li>단, <code>i</code>, <code>j</code>가 적은 유효 범위(scope)를 가지는 인덱스에 사용될 때는 OK.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 1c</h2>
	<p class="rule">코드 작성 스타일과 형식을 일관되게 하라.</p>
	<ul>
	  <li><em>어떤</em> 코드 작성 규칙인지 관계없다. &mdash; 규칙을 <em>갖는게</em> 중요한다.</li>
	  <li>뇌는 모든 차이가 특별한 의미가 있다고 가정한다.</li>
	  <li>모든 불일관성이 이해를 떨어뜨린다.</li>
	</ul>
      </section>

      <section class="slide">
        <h2>규칙 2</h2>
	<h3 class="rule">컴퓨터가 작업을 처리하게 하라.</h3>
	<ul>
	  <li>컴퓨터의 존재이유는 빨리 작업을 반복하는데 있다.</li>
	  <li>99% 정확성 &rArr; 100번 반복에 한번 오류가 있는 경우 63% 오류 가능성 의미.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 2a</h2>
	<p class="rule">컴퓨터가 작업을 반복하게 하라.</p>
	<ul>
	  <li>모든 일에 작은 프로그램을 작성하라.</li>
	  <li>스크립트, 매크로, 엘리어스로 불려도 상관없다.</li>
	  <li>GUI 보다는 텍스트 기반 프로그래밍 시스템으로 하는 것이 쉽다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 2b</h2>
	<p class="rule">재사용을 위해서 파일에 최든 명령어를 저장하라.</p>
	<ul>
	  <li>대부분의 텍스트 기반 인터페이스는 자동으로 지원
	    <ul>
	      <li>최근 작업을 <code>history</code>를 사용해서 반복하라.</li>
	      <li>"소규모로 재현(Reproducibility)"</li>
	    </ul>
	  </li>
	  <li>이력을 저장하면, "대규모로 재현(Reproducibility)"도 쉽다.
	    <ul>
	      <li>결과가 도출된 방법에 대한 정확한 기록</li>
	      <li><em>만약</em> 모든 것이 수집된다면 그렇다.</li>
	    </ul>
	  </li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 2c</h2>
	<p class="rule">워크플로어(workflow)를 자동화하는 빌드(build) 도구를 사용.</p>
	<ul>
	  <li>최초 프로그램을 컴파일하는 용도로 개발</li>
	  <li>특정 파일이 다른 파일에 의존성을 가지는 경우 사용될 수 있다.</li>
	  <li>Makes는 워크플로어를 명시적으로 만든다.</li>
	</ul>
      </section>

      <section class="slide">
        <h2>규칙 3</h2>
	<h3 class="rule">점진적 변경을 한다.</h3>
	<ul>
	  <li>대부분의 과학자는 "요구사항(requirement)"이 없다.
	    <ul>
	      <li>연구자 자신이 사용자가 된다.</li>
	      <li>코드는 연구와 함께 진화한다.</li>
	    </ul>
	  </li>
	  <li>산업계에 가장 가까운 사례가 <em>애자일 개발(agile development)</em>이다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 3a</h2>
	<p class="rule">피드백을 자주 받고 경로 보정으로 <br/>작은 움직임으로 작업한다.</p>
	<ul>
	  <li>휴식없이 사람이 집중할 수 있는 시간은 45-90분 정도다.</li>
	  <li>그래서, 작업 크기를 이정도 시간에 맞춘다.</li>
	  <li>장기 사이클 주기는 1주 혹은 2주다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 3b</h2>
	<p class="rule">버젼 제어(version control) <br/> 시스템을 사용한다.</p>
	<ul>
	  <li>변경 사항을 추적한다.</li>
	  <li>실행취소(undo)가 될 수 있게 한다.</li>
	  <li>독립적인 병렬 개발을 지원한다.</li>
	  <li><a href="#collaborate">협업(collaboration)</a>에 필수적이다.</li>
	</ul>
      </section>

      <section class="slide">
	<h2>규칙 3c</h2>
	<p class="rule">버젼 제어에 수작업으로 생성한 <br/>모든 것을 저장한다.</p>
	<ul>
	  <li>소프트웨어 뿐만 아니라: 논문, 이미지, ...
	    <ul>
	      <li>기가바이트 데이터는 아니다....</li>
	      <li>...기가바이트 데이터에 <em>대한</em> 메타데이터</li>
	    </ul>
	  </li>
	  <li>컴퓨터가 생성한 것은 배제한다.
	    <ul>
	      <li>대신에 다시 생성하기 위해서 빌드(build) 도구를 사용한다.</li>
	      <li>만약 다시 생성하는데 매우 오랜 시간이 걸리지 않는다면 그렇다.</li>
	    </ul>
	  </li>
	</ul>
      </section>

      <section class="slide">
        <h2>Rule 4</h2>
	<h3 class="rule">Don't Repeat Yourself (or Others)</h3>
	<ul>
	  <li>Anything repeated in two or more places will eventually be wrong in at least one</li>
	  <li>If it's faster to re-create than to discover or understand, <em>fix it</em></li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 4a</h2>
	<p class="rule">Every piece of data must have<br/>a single authoritative representation in the system.</p>
	<ul>
	  <li>Define constants exactly once</li>
	  <li>Ditto file formats, geographical locations, ...</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 4b</h2>
	<p class="rule">Modularize code rather than copying and pasting.</p>
	<ul>
	  <li>Reducing code cloning reduces error rates</li>
	  <li>Cuts the amount of testing needed</li>
	  <li>And increases comprehension</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 4c</h2>
	<p class="rule">Re-use code instead of rewriting it.</p>
	<ul>
	  <li>It takes experts years to build high-quality numerical or statistical software</li>
	  <li>Your time is better spent doing science on top of that</li>
	</ul>
      </section>

      <section class="slide">
        <h2>Rule 5</h2>
	<h3 class="rule">Plan for Mistakes</h3>
	<ul>
	  <li>No single practice catches everything</li>
	  <li>So practice <em>defense in depth</em></li>
	</ul>
	<p align="center"><em>Note: improving quality increases productivity</em></p>
      </section>

      <section class="slide">
	<h2>Rule 5a</h2>
	<p class="rule">Add assertions to programs to check their operation.</p>
	<ul>
	  <li>"This must be true here or there is an error"</li>
	  <li>Like diagnostic circuits in hardware</li>
	  <li>No point proceeding if the program is broken...</li>
	  <li>...and they serve as <em>executable documentation</em></li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 5b</h2>
	<p class="rule">Use an off-the-shelf unit testing library.</p>
	<ul>
	  <li>Manages setup, execution, and reporting</li>
	  <li>Re-run unit tests after every change to the code to check for <em>regression</em></li>
	</ul>
      </section>

      <section class="slide">
	<h2>Testing is Hard</h2>
	<ul>
	  <li>"If I knew what the right answer was, I'd have published by now."</li>
	  <li>Compare to experimental data</li>
	  <li>Or to analytic solutions of simple problems</li>
	  <li>Or to old (trusted) programs</li>
	  <li>If nothing else, forces scientists to document what "errors" are acceptable</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 5c</h2>
	<p class="rule">Turn bugs into test cases.</p>
	<ul>
	  <li>Write a test that fails when the bug is present</li>
	  <li>Then work on the code until that test passes...</li>
	  <li>...and no others are failing</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Test-Driven Development</h2>
	<ul>
	  <li>Why wait? Always write the tests, then the code</li>
	  <li>Improves focus</li>
	  <li>Encourages writing testable code</li>
	  <li>And ensures tests actually get written...</li>
	  <li>"Red, green, refactor"</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 5d</h2>
	<p class="rule">Use a symbolic debugger.</p>
	<ul>
	  <li>Explore the program as it runs</li>
	  <li>Better than print statements
	    <ul>
	      <li>You don't have to re-run...</li>
	      <li>...or guess in advance what you'll need to know</li>
	    </ul>
	  </li>
	  <li>Use <em>breakpoints</em> to stop program at particular points or when particular things are true</li>
	</ul>
      </section>

      <section class="slide">
        <h2>Rule 6</h2>
	<h3 class="rule">Optimize Software<br/>Only After It Works Correctly</h3>
	<ul>
	  <li>Even experts find it hard to predict performance bottlenecks</li>
	  <li>Small changes to code often have dramatic impact on performance</li>
	  <li>So get it right, <em>then</em> make it fast</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 6a</h2>
	<p class="rule">Use a profiler to identify bottlenecks.</p>
	<ul>
	  <li>Reports how much time is spent on each line of code</li>
	  <li>Re-check on new computers or when switching libraries</li>
	  <li>Summarize across unit tests</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 6b</h2>
	<p class="rule">Write code in the highest-level language possible.</p>
	<ul>
	  <li>People write the same number of lines of code per hour regardless of language</li>
	  <li>So use the most expressive language available to get the "right" version...</li>
	  <li>...then rewrite core pieces (possibly in a lower-level language) to get the "fast" version</li>
	</ul>
      </section>

      <section class="slide">
        <h2>Rule 7</h2>
	<h3 class="rule">Document Design and Purpose,<br/>not Mechanics</h3>
	<ul>
	  <li>Goal is to make the next person's life easier</li>
	  <li>Focus on things the code <em>doesn't</em> say
	    <ul>
	      <li>Or doesn't say clearly</li>
	      <li>E.g., file formats</li>
	    </ul>
	  </li>
	  <li>An example is worth a thousand words...</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 7a</h2>
	<p class="rule">Document interfaces and reasons,<br/>not implementations.</p>
	<ul>
	  <li>Interfaces and reasons change more slowly than implementation details, so documenting them is better economics</li>
	  <li>And most people care about using code more than understanding it</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 7b</h2>
	<p class="rule">Refactor code in preference to<br/>explaining how it works.</p>
	<ul>
	  <li>Good code can be understood when read aloud</li>
	  <li>Good programmers build libraries so that solving their problem is straightforward</li>
	  <li>Again, "red, green, refactor"</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 7c</h2>
	<p class="rule">Embed the documentation for a piece of software<br/>in that software.</p>
	<ul>
	  <li>Specially-formatted comments or strings</li>
	  <li>More likely to be kept up to date</li>
	  <li>More accessible to interactive help</li>
	  <li>Many modern tools embed code in documentation rather than vice versa</li>
	</ul>
      </section>

      <section class="slide">
        <h2 id="collaborate">Rule 8</h2>
	<h3 class="rule">Collaborate</h3>
	<ul>
	  <li>Computers were invented to calculate</li>
	  <li>The web was invented to collaborate</li>
	  <li>Science is more fun when it's shared</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 8a</h2>
	<p class="rule">Use pre-merge code reviews.</p>
	<ul>
	  <li>Have someone else review changes <em>before</em> merging in version control</li>
	  <li>Significantly reduces errors</li>
	  <li>Good way to share knowledge</li>
	  <li>It's what makes open source possible</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 8b</h2>
	<p class="rule">Use pair programming<br/>when bringing someone new up to speed<br/>and when tackling particularly tricky problems.</p>
	<ul>
	  <li>Two people, one keyboard, one screen</li>
	  <li>An extreme form of code review</li>
	  <li>Can get a bit tired if done all the time...</li>
	</ul>
      </section>

      <section class="slide">
	<h2>Rule 8c</h2>
	<p class="rule">Use an issue tracking tool.</p>
	<ul>
	  <li>A shared to-do list
	    <ul>
	      <li>Items can be assigned to people</li>
	      <li>Supports comments, links to code and papers, etc.</li>
	    </ul>
	  </li>
	  <li>"Version control is where we've been, the issue tracker is where we're going"</li>
	</ul>
      </section>

      <section class="slide">
	<h2>이런, 엄청 많네...</h2>
	<p class="rule">한번에 하나씩.</p>
	<ol>
	  <li>텍스트 기반 인터페이스 사용한다.</li>
	  <li>history를 스크립트로 변환한다.</li>
	  <li>모든 것을 버젼 제어(version control) 시스템에 넣는다.</li>
	  <li>테스트 주도 개발(Test-driven development) 사용한다.</li>
	</ol>
      </section>

      <section class="slide" data-container-class="no-status">
        <h2 style="font-size: 160%;">Thank You</h2>
	<p class="small">
	  Greg Wilson,
	  D. A. Aruliah,
	  C. Titus Brown,
	  Neil P. Chue Hong,
	  Matt Davis,
	  Richard T. Guy,
	  Steven H.D. Haddock,
	  Kathryn D. Huff,
	  Ian M. Mitchell,
	  Mark D. Plumbley,
	  Ben Waugh,
	  Ethan P. White,
	  and
	  Paul Wilson:
	</p>
	<p align="center">
	  "Best Practices for Scientific Computing"
	  <br/>
	  PLOS Biology, Jan. 2014,
	  <br/>
	  <a href="http://dx.doi.org/10.1371/journal.pbio.1001745">http://dx.doi.org/10.1371/journal.pbio.1001745</a>.
	</p>
	<div align="center">
          <p><img src="../img/software-carpentry-banner.png" alt="Software Carpentry Logo" /></p>
	</div>
      </section>

    </div>
  </body>
</html>
